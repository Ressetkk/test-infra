# Code generated by rendertemplates. DO NOT EDIT.


presubmits:
  kyma-project/test-infra:
    - name: pull-build-bootstrap
      annotations:
        description: "Workload to build image for kyma-project/test-infra/bootstrap."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/bootstrap/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=bootstrap"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/bootstrap"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-buildpack-golang
      annotations:
        description: "Workload to build image for kyma-project/test-infra/buildpack-golang."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/buildpack-golang/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=buildpack-golang"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/buildpack-golang"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-buildpack-node
      annotations:
        description: "Workload to build image for kyma-project/test-infra/buildpack-node."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/buildpack-node/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=buildpack-node"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/buildpack-node"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-kyma-integration
      annotations:
        description: "Workload to build image for kyma-project/test-infra/kyma-integration."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/kyma-integration/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=kyma-integration"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/kyma-integration"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-cleaner
      annotations:
        description: "Workload to build image for kyma-project/test-infra/cleaner."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/cleaner/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=cleaner"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/cleaner"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-golangci-lint
      annotations:
        description: "Workload to build image for kyma-project/test-infra/golangci-lint."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/golangci-lint/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=golangci-lint"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/golangci-lint"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-prow-tools
      annotations:
        description: "Workload to build image for kyma-project/test-infra/prow-tools."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/prow-tools/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=prow-tools"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=."
              - "--dockerfile=prow/images/prow-tools/Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-whitesource-scanner
      annotations:
        description: "Workload to build image for kyma-project/test-infra/whitesource-scanner."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/whitesource-scanner/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=whitesource-scanner"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/whitesource-scanner"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-gardener-rotate
      annotations:
        description: "Workload to build image for kyma-project/test-infra/gardener-rotate."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/gardener-rotate/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=gardener-rotate"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=."
              - "--dockerfile=prow/images/gardener-rotate/Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-github-connector-webhook-gateway
      annotations:
        description: "Workload to build image for kyma-project/test-infra/github-connector-webhook-gateway."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-github-connector/githubWebhookGateway/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=github-connector-webhook-gateway"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-github-connector/githubWebhookGateway"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-pubsub-connector-gateway
      annotations:
        description: "Workload to build image for kyma-project/test-infra/pubsub-connector-gateway."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-pubsub-connector/pubSubGateway/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=pubsub-connector-gateway"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-pubsub-connector/pubSubGateway"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
    - name: pull-build-ci-force-bot
      annotations:
        description: "Workload to build image for kyma-project/test-infra/ci-force-bot."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-ci-force-bot/ciforcebot/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: untrusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=ci-force-bot"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-ci-force-bot/ciforcebot"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: gcbuild-config
postsubmits:
  kyma-project/test-infra:
    - name: post-build-bootstrap
      annotations:
        description: "Workload to build image for kyma-project/test-infra:bootstrap."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/bootstrap/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=bootstrap"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/bootstrap"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-buildpack-golang
      annotations:
        description: "Workload to build image for kyma-project/test-infra:buildpack-golang."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/buildpack-golang/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=buildpack-golang"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/buildpack-golang"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-buildpack-node
      annotations:
        description: "Workload to build image for kyma-project/test-infra:buildpack-node."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/buildpack-node/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=buildpack-node"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/buildpack-node"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-kyma-integration
      annotations:
        description: "Workload to build image for kyma-project/test-infra:kyma-integration."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/kyma-integration/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=kyma-integration"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/kyma-integration"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-cleaner
      annotations:
        description: "Workload to build image for kyma-project/test-infra:cleaner."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/cleaner/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=cleaner"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/cleaner"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-golangci-lint
      annotations:
        description: "Workload to build image for kyma-project/test-infra:golangci-lint."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/golangci-lint/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=golangci-lint"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/golangci-lint"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-prow-tools
      annotations:
        description: "Workload to build image for kyma-project/test-infra:prow-tools."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/prow-tools/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=prow-tools"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=."
              - "--dockerfile=prow/images/prow-tools/Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-whitesource-scanner
      annotations:
        description: "Workload to build image for kyma-project/test-infra:whitesource-scanner."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/whitesource-scanner/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=whitesource-scanner"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=prow/images/whitesource-scanner"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-gardener-rotate
      annotations:
        description: "Workload to build image for kyma-project/test-infra:gardener-rotate."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'prow/images/gardener-rotate/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=gardener-rotate"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=."
              - "--dockerfile=prow/images/gardener-rotate/Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-github-connector-webhook-gateway
      annotations:
        description: "Workload to build image for kyma-project/test-infra:github-connector-webhook-gateway."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-github-connector/githubWebhookGateway/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=github-connector-webhook-gateway"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-github-connector/githubWebhookGateway"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-pubsub-connector-gateway
      annotations:
        description: "Workload to build image for kyma-project/test-infra:pubsub-connector-gateway."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-pubsub-connector/pubSubGateway/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=pubsub-connector-gateway"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-pubsub-connector/pubSubGateway"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config
    - name: post-build-ci-force-bot
      annotations:
        description: "Workload to build image for kyma-project/test-infra:ci-force-bot."
      labels:
        preset-sa-gcr-push: "true"
      run_if_changed: 'development/kyma-ci-force-bot/ciforcebot/(.*\.go$|.*/Dockerfile$)'
      decorate: true
      cluster: trusted-workload
      branches:
        - ^main$
        - ^master$
      spec:
        containers:
          - image: eu.gcr.io/sap-kyma-neighbors-dev/kaniko-build:v20220905-0070bb40f
            command:
              - "/kaniko-build"
            args:
              - "--name=ci-force-bot"
              - "--directory=test-infra"
              - "--config=/config/kaniko-build-config.yaml"
              - "--context=development/kyma-ci-force-bot/ciforcebot"
              - "--dockerfile=Dockerfile"
            volumeMounts:
              - name: config
                mountPath: /config
                readOnly: true
        volumes:
          - name: config
            configMap:
              name: kaniko-build-config